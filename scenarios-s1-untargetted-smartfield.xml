<?xml version="1.0" encoding="UTF-8"?>
<scenarios>
  <scenario feature="Smart fields test cases" title="TODAY smart field">
    <Given>
      <step> Edit campaign "TelekomCampaign" begin on "10/10/2015 22:23:15" and ends on "10/11/2027 22:23:15" with langCode "sq"</step>
      <step-keywords>
        <keyword>10</keyword>
        <keyword>22</keyword>
        <keyword>23</keyword>
        <keyword>15</keyword>
        <keyword>edit</keyword>
        <keyword>campaign</keyword>
        <keyword>telekomcampaign</keyword>
        <keyword>begin</keyword>
        <keyword>2015</keyword>
        <keyword>end</keyword>
        <keyword>11</keyword>
        <keyword>2027</keyword>
        <keyword>langcod</keyword>
        <keyword>sq</keyword>
      </step-keywords>
      <step> User has "sq" lang code in profile</step>
      <step-keywords>
        <keyword>user</keyword>
        <keyword>ha</keyword>
        <keyword>sq</keyword>
        <keyword>lang</keyword>
        <keyword>code</keyword>
        <keyword>profil</keyword>
      </step-keywords>
      <step> User has "355002033000" msisdn</step>
      <step-keywords>
        <keyword>user</keyword>
        <keyword>ha</keyword>
        <keyword>355002033000</keyword>
        <keyword>msisdn</keyword>
      </step-keywords>
    <step> Text key "todayTest" with "manos is OK. kalli is stupid _TODAY_" content and "sq" language is created</step>
      <step-keywords>
        <keyword>text</keyword>
        <keyword>kei</keyword>
        <keyword>todaytest</keyword>
        <keyword>mano</keyword>
        <keyword>ok</keyword>
        <keyword>kalli</keyword>
        <keyword>stupid</keyword>
        <keyword>todai</keyword>
        <keyword>content</keyword>
        <keyword>sq</keyword>
        <keyword>languag</keyword>
        <keyword>creat</keyword>
      </step-keywords>
    </Given>
  <When>
      <step> Smart field replace call for text key "todayTest" is triggered</step>
      <step-keywords>
        <keyword>smart</keyword>
        <keyword>field</keyword>
        <keyword>replac</keyword>
        <keyword>call</keyword>
        <keyword>text</keyword>
        <keyword>kei</keyword>
        <keyword>todaytest</keyword>
        <keyword>trigger</keyword>
      </step-keywords>
    </When>
  <Then>
      <step> Smart field has value "todayTest"</step>
      <step-keywords>
        <keyword>smart</keyword>
        <keyword>field</keyword>
        <keyword>ha</keyword>
        <keyword>valu</keyword>
        <keyword>todaytest</keyword>
      </step-keywords>
    <step> Clear text key "todayTest"</step>
      <step-keywords>
        <keyword>clear</keyword>
        <keyword>text</keyword>
        <keyword>kei</keyword>
        <keyword>todaytest</keyword>
      </step-keywords>
    </Then>
  </scenario>
<scenario feature="Smart fields test cases" title="SUBDAY smart field">
    <Given>
      <step> Edit campaign "TelekomCampaign" begin on "10/10/2015 22:23:15" and ends on "10/11/2027 22:23:15" with langCode "sq"</step>
      <step-keywords>
        <keyword>10</keyword>
        <keyword>22</keyword>
        <keyword>23</keyword>
        <keyword>15</keyword>
        <keyword>edit</keyword>
        <keyword>campaign</keyword>
        <keyword>telekomcampaign</keyword>
        <keyword>begin</keyword>
        <keyword>2015</keyword>
        <keyword>end</keyword>
        <keyword>11</keyword>
        <keyword>2027</keyword>
        <keyword>langcod</keyword>
        <keyword>sq</keyword>
      </step-keywords>
      <step> User has "sq" lang code in profile</step>
      <step-keywords>
        <keyword>user</keyword>
        <keyword>ha</keyword>
        <keyword>sq</keyword>
        <keyword>lang</keyword>
        <keyword>code</keyword>
        <keyword>profil</keyword>
      </step-keywords>
      <step> User has "355002033001" msisdn</step>
      <step-keywords>
        <keyword>user</keyword>
        <keyword>ha</keyword>
        <keyword>355002033001</keyword>
        <keyword>msisdn</keyword>
      </step-keywords>
    <step> Text key "subdayTest" with "manos is OK. kalli is stupid _SUBDAY_" content and "sq" language is created</step>
      <step-keywords>
        <keyword>text</keyword>
        <keyword>kei</keyword>
        <keyword>subdaytest</keyword>
        <keyword>mano</keyword>
        <keyword>ok</keyword>
        <keyword>kalli</keyword>
        <keyword>stupid</keyword>
        <keyword>subdai</keyword>
        <keyword>content</keyword>
        <keyword>sq</keyword>
        <keyword>languag</keyword>
        <keyword>creat</keyword>
      </step-keywords>
    </Given>
  <When>
      <step> Smart field replace call for text key "subdayTest" for subId "2" is triggered</step>
      <step-keywords>
        <keyword>smart</keyword>
        <keyword>field</keyword>
        <keyword>replac</keyword>
        <keyword>call</keyword>
        <keyword>text</keyword>
        <keyword>kei</keyword>
        <keyword>subdaytest</keyword>
        <keyword>subid</keyword>
        <keyword>2</keyword>
        <keyword>trigger</keyword>
      </step-keywords>
    </When>
  <Then>
      <step> Smart field has value "totalCharges"</step>
      <step-keywords>
        <keyword>smart</keyword>
        <keyword>field</keyword>
        <keyword>ha</keyword>
        <keyword>valu</keyword>
        <keyword>totalcharg</keyword>
      </step-keywords>
    <step> Clear text key "subdayTest"</step>
      <step-keywords>
        <keyword>clear</keyword>
        <keyword>text</keyword>
        <keyword>kei</keyword>
        <keyword>subdaytest</keyword>
      </step-keywords>
    </Then>
  </scenario>
<scenario feature="Smart fields test cases" title="MSISDN smart field">
    <Given>
      <step> Edit campaign "TelekomCampaign" begin on "10/10/2015 22:23:15" and ends on "10/11/2027 22:23:15" with langCode "sq"</step>
      <step-keywords>
        <keyword>10</keyword>
        <keyword>22</keyword>
        <keyword>23</keyword>
        <keyword>15</keyword>
        <keyword>edit</keyword>
        <keyword>campaign</keyword>
        <keyword>telekomcampaign</keyword>
        <keyword>begin</keyword>
        <keyword>2015</keyword>
        <keyword>end</keyword>
        <keyword>11</keyword>
        <keyword>2027</keyword>
        <keyword>langcod</keyword>
        <keyword>sq</keyword>
      </step-keywords>
      <step> User has "sq" lang code in profile</step>
      <step-keywords>
        <keyword>user</keyword>
        <keyword>ha</keyword>
        <keyword>sq</keyword>
        <keyword>lang</keyword>
        <keyword>code</keyword>
        <keyword>profil</keyword>
      </step-keywords>
      <step> User has "355002033002" msisdn</step>
      <step-keywords>
        <keyword>user</keyword>
        <keyword>ha</keyword>
        <keyword>355002033002</keyword>
        <keyword>msisdn</keyword>
      </step-keywords>
    <step> Text key "msisdnTest" with "manos is OK. kalli is stupid _MSISDN_" content and "sq" language is created</step>
      <step-keywords>
        <keyword>text</keyword>
        <keyword>kei</keyword>
        <keyword>msisdntest</keyword>
        <keyword>mano</keyword>
        <keyword>ok</keyword>
        <keyword>kalli</keyword>
        <keyword>stupid</keyword>
        <keyword>msisdn</keyword>
        <keyword>content</keyword>
        <keyword>sq</keyword>
        <keyword>languag</keyword>
        <keyword>creat</keyword>
      </step-keywords>
    </Given>
  <When>
      <step> Smart field replace call for text key "msisdnTest" is triggered</step>
      <step-keywords>
        <keyword>smart</keyword>
        <keyword>field</keyword>
        <keyword>replac</keyword>
        <keyword>call</keyword>
        <keyword>text</keyword>
        <keyword>kei</keyword>
        <keyword>msisdntest</keyword>
        <keyword>trigger</keyword>
      </step-keywords>
    </When>
  <Then>
      <step> Smart field has value "msisdnTest"</step>
      <step-keywords>
        <keyword>smart</keyword>
        <keyword>field</keyword>
        <keyword>ha</keyword>
        <keyword>valu</keyword>
        <keyword>msisdntest</keyword>
      </step-keywords>
    <step> Clear text key "msisdnTest"</step>
      <step-keywords>
        <keyword>clear</keyword>
        <keyword>text</keyword>
        <keyword>kei</keyword>
        <keyword>msisdntest</keyword>
      </step-keywords>
    </Then>
  </scenario>
</scenarios>
